{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7d91","webpack:///./src/components/LevelCreator.vue?a8fc","webpack:///./src/components/JsonEditor.vue?d61c","webpack:///./src/App.vue","webpack:///./src/components/LevelCreator.vue","webpack:///./src/Providers/LevelProvider.ts","webpack:///./src/Scenes/LevelCreator.ts","webpack:///./src/components/LevelCreator.vue?5864","webpack:///./src/components/LevelCreator.vue?b0ea","webpack:///./src/components/JsonEditor.vue","webpack:///./src/components/JsonEditor.vue?6309","webpack:///./src/components/JsonEditor.vue?f2b1","webpack:///./src/assets/sampleLevel.ts","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?eabf","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","ref","newWave","blockType","COUNTER_CONTEXT","useLevelProvider","initialValue","levelJson","setJSON","obj","entries","forEach","addNewWave","height","nextSpawnHeight","obstacles","remainingHeight","waves","reduce","a","setObstacles","level","deleteWave","changeBlockType","newblockType","useLevelContext","context","Error","gridSize","canvas","engine","preserveDrawingBuffer","stencil","createScene","scene","camera","position","rotation","attachControl","mat","diffuseColor","alpha","mat2","heightList","currentHeight","localLevel","wave","console","log","defintion","type","obstacle","positionsDef","acc","cur","x","y","createKey","createGrid","guiMenu","CreateFullscreenUI","upButton","createUpOrDownButton","downButton","onPointerClickObservable","add","next","undefined","setCameraPosition","warn","addControl","saveButton","CreateSimpleButton","width","color","background","thickness","top","horizontalAlignment","HORIZONTAL_ALIGNMENT_CENTER","verticalAlignment","VERTICAL_ALIGNMENT_BOTTOM","pos","split","runRenderLoop","render","addEventListener","resize","isUp","button","HORIZONTAL_ALIGNMENT_RIGHT","HORIZONTAL_ALIGNMENT_LEFT","definition","index","grid","z","box","CreateBox","copyFromFloats","def","material","getMaterialByName","actionManager","registerAction","OnPickTrigger","isSelected","setup","isMounted","save","exportFile","jsonString","change","JSON","stringify","event","target","json","parse","error","alert","blob","Blob","e","document","createEvent","createElement","download","href","URL","createObjectURL","dataset","downloadurl","join","initEvent","dispatchEvent","components","LevelCreator","JsonEditor","App","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,0BAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,sGCvJT,W,oCCAA,W,oCCAA,W,2KCCOyC,MAAM,W,GACJA,MAAM,mB,GAGNA,MAAM,mB,oHAJb,eAOM,MAPN,EAOM,CANJ,eAEM,MAFN,EAEM,CADJ,eAAc,KAEhB,eAEM,MAFN,EAEM,CADJ,eAAgB,O,OCLbA,MAAM,iB,GACFA,MAAM,wB,GAGNA,MAAM,wB,EAKP,eAA2B,aAApB,gBAAY,G,EAEf,eAA4C,UAApChB,MAAM,aAAY,aAAS,G,EACnC,eAAgD,UAAxCA,MAAM,eAAc,eAAW,G,GAGvCiB,IAAI,U,gDAfhB,eAgBM,MAhBN,EAgBM,CAfF,eAEM,MAFN,EAEM,CADF,eAAwC,UAA/B,QAAK,8BAAE,EAAAC,QAAA,sBAAS,YAE7B,eAUM,MAVN,EAUM,CALF,E,eACA,eAGS,U,qDAHQ,EAAAC,UAAS,K,CACtB,EACA,G,cAFa,EAAAA,eAKrB,eAA8B,SAA9B,EAA8B,Y,wHCbhCC,EAAkBtB,SAElB,SAAUuB,EAAiBC,GAE/B,IAAIC,EAAY,eAAcD,GAC1BH,EAAY,eAAY,eAEtBK,EAAU,SAACC,GACb7D,OAAO8D,QAAQD,GAAKE,SAAQ,YAAiB,0BAAfrB,EAAe,KAAVN,EAAU,KACzCuB,EAAUjB,GAAON,MAIzB,SAAS4B,EAAYC,GACbA,IACAA,EAAS,IAEbN,EAAU,SAAStD,KAAK,CACtB6D,gBAAiBD,EACjBE,UAAW,KAIjB,IAAMC,EAAkB,gBAAS,WAC/B,IAAMH,EAASN,EAAUU,MAAMC,QAAO,SAACC,EAAE9C,GAEvC,OADA8C,GAAK9C,EAAEyC,gBACAK,IACN,GACH,gBAAUN,EAAV,YAAoBN,EAAUM,WAG1BO,EAAe,SAACC,EAAeN,GACjCR,EAAUU,MAAMI,GAAON,UAAYA,GAGjCO,EAAa,SAACD,GAClBd,EAAUU,MAAMpD,OAAOwD,EAAO,IAG1BE,EAAkB,SAACC,GACvBrB,EAAUnB,MAAQwC,GAGpB,eAAQpB,EAAiB,CACvBD,YACAoB,kBACAhB,YACAC,UACAI,aACAQ,eACAE,aACAN,oBAIE,SAAUS,IACd,IAAMC,EAAU,eAAetB,GAC/B,IAAKsB,EACH,MAAM,IAAIC,MAAM,yBAElB,OAAOD,E,0DC5DHE,EAAW,EAEF,WAACC,EAAcH,GAE1B,IAAII,EAAS,IAAI,YAAeD,GAAQ,EAAM,CAAEE,uBAAuB,EAAMC,SAAS,IAElFC,EAAc,WACd,IAAIC,EAAQ,IAAI,WAAcJ,GAE1BK,EAAS,IAAI,gBAAmB,UAAW,IAAI,aAAgB,EAAG,GAAI,IAAKD,GAE/EC,EAAOC,SAAW,IAAI,aAAgB,GAAK,GAAI,MAC/CD,EAAOE,SAAW,IAAI,aAAgB,mBAAqB,mBAAqB,GAGhFF,EAAOG,cAAcT,GAAQ,GAEjB,IAAI,sBAAyB,SAAU,IAAI,aAAgB,EAAG,EAAG,GAAIK,GAAjF,IAEIK,EAAM,IAAI,sBAAyB,cAAeL,GACtDK,EAAIC,aAAe,IAAI,YAAe,IAAK,IAAK,KAChDD,EAAIE,MAAQ,GAEZ,IAAIC,EAAO,IAAI,sBAAyB,YAAaR,GACrDQ,EAAKF,aAAe,IAAI,YAAe,IAAK,EAAG,GAEZd,EAA3BN,aApBM,IAoBQb,EAAamB,EAAbnB,UAClBM,EAAS,EACT8B,EAAa,GACbC,EAAgB,EAEdC,EAAa,GACnBtC,EAAUU,MAAMN,SAAQ,SAACmC,EAAWrG,GAChCsG,QAAQC,IAAI,gBACZL,EAAW1F,KAAK4D,GAChB,IAAMoC,EAAYrG,OAAO8D,QAAQoC,EAAK/B,WAAWG,QAAO,SAACC,EAAD,GAAwB,0BAAnB+B,EAAmB,KAAbC,EAAa,KACtEC,EAAwBD,EAAUjC,QAAO,SAACmC,EAAKC,GAAO,IAChDC,EAASD,EAATC,EAAGC,EAAMF,EAANE,EACLlE,EAAMmE,EAAUF,EAAGC,GAEzB,OADAH,EAAI/D,GAAO4D,EACJG,IACR,IACH,wCAAYlC,GAAMiC,KACnB,IACHL,QAAQC,IAAIC,GACZS,EAAWxB,EAAOrB,EAAQoC,EAAWxG,EAAGoG,EAAYnB,GACpDb,GAAUiC,EAAKhC,mBAInB,IAAM6C,EAAU,4BAA2BC,mBAAmB,MACxDC,EAAWC,GAAqB,GAChCC,EAAaD,GAAqB,GAExCD,EAASG,yBAAyBC,KAAI,WAClC,IAAMC,EAAOvB,EAAWC,EAAgB,QAC5BuB,IAATD,GAAsBA,EAAO,IAGhCtB,GAAiB,EACjBwB,EAAkBjC,EAAQ+B,OAG9BH,EAAWC,yBAAyBC,KAAI,WACpC,IAAMC,EAAOvB,EAAWC,EAAgB,QAC5BuB,IAATD,GAAsBA,EAAO,EAC5BnB,QAAQsB,KAAK,SAAUH,IAG3BtB,GAAiB,EACjBwB,EAAkBjC,EAAQ+B,OAG9BP,EAAQW,WAAWT,GACnBF,EAAQW,WAAWP,GAGnB,IAAMQ,EAAa,YAAWC,mBAAmB,OAAQ,QA8BzD,OA7BAD,EAAWE,MAAQ,GACnBF,EAAW1D,OAAS,OACpB0D,EAAWG,MAAQ,QACnBH,EAAWI,WAAa,QACxBJ,EAAWK,UAAY,EACvBL,EAAWM,KAAO,GAClBN,EAAWO,oBAAsB,eAAcC,4BAC/CR,EAAWS,kBAAoB,eAAcC,0BAE7CV,EAAWP,yBAAyBC,KAAI,WACpCpB,EAAWlC,SAAQ,SAACmC,EAAMrG,GACtB,IAAMe,EAASZ,OAAO8D,QAAQoC,GAAM5B,QAAO,SAACC,EAAG9C,GAAK,qBACZA,EADY,GACzC6G,EADyC,KACpChC,EADoC,OAEjCgC,EAAIC,MAAM,KAFuB,sBAEzC5B,EAFyC,KAEtCC,EAFsC,KAOhD,YAJeW,IAAZhD,EAAE+B,KACD/B,EAAE+B,GAAQ,IAEd/B,EAAE+B,GAAMjG,KAAK,CAAEsG,IAAGC,MACXrC,IACR,IACHO,EAAQN,aAAa3E,EAAGe,SAIhCmG,EAAQW,WAAWC,GAKZrC,GAGPA,EAAQD,IAEZH,EAAOsD,eAAc,WACjBlD,EAAMmD,YAGVxF,OAAOyF,iBAAiB,UAAU,WAC9BxD,EAAOyD,aAIf,SAASzB,EAAqB0B,GAC1B,IAAIjH,EAAOiH,EAAO,KAAO,OACnBC,EAAS,YAAWjB,mBAAmBjG,EAAMA,GAOnD,OANAkH,EAAOhB,MAAQ,GACfgB,EAAO5E,OAAS,OAChB4E,EAAOf,MAAQ,QACfe,EAAOd,WAAa,QACpBc,EAAOb,UAAY,EACnBa,EAAOX,oBAAsBU,EAAO,eAAcE,2BAA6B,eAAcC,0BACtFF,EAGX,SAAS/B,EAAWxB,EAAuBrB,EAAiB+E,EAAoBC,EAAehD,EAAYnB,GACvG,IAAIoE,EAAc,GAClBjD,EAAWgD,GAASD,EACpB,IAAK,IAAIrC,EAAI,EAAGA,EAAI3B,IAAY2B,EAAG,CACrCuC,EAAKvC,GAAKuC,EAAKvC,IAAM,GACf,IAF+B,eAEtBwC,GACL,IAAIC,EAAM,UAAaC,UAAU,MAAO,GAAM/D,GAC9C8D,EAAI5D,SAAS8D,eAAe3C,EAAI3B,EAAW,GAAIf,EAAQkF,EAAInE,EAAW,GAGtE,IAAMtC,EAAMmE,EAAUF,EAAGwC,GACnBI,EAAMP,EAAWtG,GAEnB0G,EAAII,SADLD,EACgBjE,EAAMmE,kBAAkB,aAExBnE,EAAMmE,kBAAkB,eAI3CL,EAAIM,cAAgB,IAAI,mBAAsBpE,GAC9C8D,EAAIM,cAAcC,eAAe,IAAI,uBAA0B,mBAAsBC,eAAe,WAAK,MAC/FC,EAAoC,iBAAvB,UAAAT,EAAII,gBAAJ,eAAc7H,MACjC,GAAGkI,EAAY,CACX,IAAMtG,EAAYuB,EAAQvB,UAAUnB,MACpCgH,EAAII,SAAWlE,EAAMmE,kBAAkB,aACvCxD,EAAWgD,GAAOvG,GAAOa,OAEzB6F,EAAII,SAAWlE,EAAMmE,kBAAkB,sBAChCxD,EAAWgD,GAAOvG,OAGjCwG,EAAKvC,GAAGwC,GAAKC,GA1BRD,EAAI,EAAGA,EAAInE,IAAYmE,EAAG,EAA1BA,IA+BjB,SAAS3B,EAAkBjC,EAAQtB,GAC/BsB,EAAOC,SAAW,IAAI,aAAgB,GAAK,EAAKvB,GAAS,MACzDsB,EAAOE,SAAW,IAAI,aAAgB,mBAAqB,mBAAqB,GAGpF,SAASoB,EAAUF,EAAEC,GACjB,IAAMlE,EAAM,GAAH,OAAMiE,EAAN,YAAWC,GACpB,OAAOlE,EC9KI,OACXoH,MADW,WAEP,IAAM7E,EAAS,eAAI,MACf8E,EAAY,gBAAI,GACdjF,EAAUD,IAEhB,gBAAU,WACNkF,EAAU3H,OAAQ,EAClB,EAAY6C,EAAO7C,MAAO0C,MAG9B,IAAMxB,EAAU,WACZwB,EAAQd,cAGNL,EAAYmB,EAAQ,aAQ1B,OAPA,eAAMnB,GAAW,WACVoG,EAAU3H,QACT+D,QAAQC,IAAI,gBACZ,EAAYnB,EAAO7C,MAAO0C,OAIlC,gBACIG,SACA3B,WACGwB,K,UC1Bf,EAAO2D,OAAS,EAED,Q,GCJRrF,MAAM,U,GACJA,MAAM,W,gDADb,eAeM,MAfN,EAeM,CAdJ,eAQM,MARN,EAQM,CAPJ,eAEM,0BADD,EAAAgB,iBAAe,GAEpB,eAGM,YAFJ,eAAqC,UAA5B,QAAK,8BAAE,EAAA4F,KAAA,sBAAM,UACtB,eAA2C,UAAlC,QAAK,8BAAE,EAAAC,WAAA,sBAAY,cAGhC,eAIY,YAHV7G,MAAM,cACLhB,MAAO,EAAA8H,WACP,QAAK,8BAAE,EAAAC,OAAA,sB,iECVC,iBAAgB,CAC7BL,MAD6B,WAE3B,IAAMhF,EAAeD,IACjBqF,EAAa,eAAYE,KAAKC,UAAUvF,EAAQ,aAAc,KAAM,IACxE,eAAMA,EAAQ,cAAc,WAC1BoF,EAAW9H,MAAQgI,KAAKC,UAAUvF,EAAQ,aAAc,KAAM,MAGhE,IAAMqF,EAAS,SAACG,GACdJ,EAAW9H,MAAQkI,EAAMC,OAAOnI,OAG5B4H,EAAO,WACX,IACE,IAAMQ,EAAOJ,KAAKK,MAAMP,EAAW9H,OACnC0C,EAAQlB,QAAQ4G,GAChB,MAAOE,GACPzH,OAAO0H,MAAM,gBACbxE,QAAQuE,MAAMA,KAIZT,EAAa,WACjB,IAAM1K,EAAO2K,EAAW9H,MAClBwI,EAAO,IAAIC,KAAK,CAACtL,GAAO,CAAE+G,KAAM,eAChCwE,EAAIC,SAASC,YAAY,eACzBzG,EAAIwG,SAASE,cAAc,KACjC1G,EAAE2G,SAAW,YACb3G,EAAE4G,KAAOlI,OAAOmI,IAAIC,gBAAgBT,GACpCrG,EAAE+G,QAAQC,YAAc,CAAC,YAAahH,EAAE2G,SAAU3G,EAAE4G,MAAMK,KAAK,KAC/DV,EAAEW,UAAU,SAAS,GAAM,GAC3BlH,EAAEmH,cAAcZ,IAGlB,wCAAYhG,GAAZ,IAAqBoF,aAAYC,SAAQH,OAAMC,kB,UCnCnD,EAAOxB,OAAS,EAED,QCPXhE,EAAQ,CACR,IAAO,OACP,OAAU,IACV,UAAa,GACb,aAAgB,GAChB,MAAS,CACL,CACI,gBAAmB,GACnB,UAAa,CACT,YAAe,CACX,CACI,EAAK,EACL,EAAK,QAQd,ICdA,iBAAgB,CAC7B9C,KAAM,MACNgK,WAAY,CACVC,aAAA,EACAC,cAEF/B,MAN6B,WAO3BrG,EAAiB,M,UCRrB,EAAOgF,OAASA,EAED,Q,UCHf,eAAUqD,GAAKC,MAAM","file":"js/app.c229580d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/HyperDiveLevelCreator/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LevelCreator.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./JsonEditor.vue?vue&type=style&index=0&lang=css\"","<template>\n  <div class=\"content\">\n    <div class=\"content-section\">\n      <JsonEditor />\n    </div>\n    <div class=\"content-section\">\n      <LevelCreator />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport LevelCreator from \"./components/LevelCreator.vue\";\nimport JsonEditor from \"./components/JsonEditor.vue\";\nimport { useLevelProvider } from \"./Providers/LevelProvider\"\nimport level from \"./assets/sampleLevel\";\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    LevelCreator,\n    JsonEditor\n  },\n  setup() {\n    useLevelProvider(level);\n  }\n});\n</script>\n\n<style>\n  .content {\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: space-evenly;\n    align-items: stretch;\n    align-content: stretch;\n  }\n\n  .content-section {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n","<template>\n    <div class=\"level-creator\">\n        <div class=\"level-creator-header\">\n            <button @click=\"newWave\">+ Wave</button>\n        </div>\n        <div class=\"level-creator-footer\">\n            <!-- <div>\n                <label>Level</label>\n                <input /> \n            </div> -->\n            <label>Block Type: </label>\n            <select v-model=\"blockType\">\n                <option value=\"breakable\">Breakable</option>\n                <option value=\"unbreakable\">Unbreakable</option>\n            </select>\n        </div>\n        <canvas ref=\"canvas\"></canvas>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, computed, onMounted, watch } from \"vue\";\nimport { useLevelContext } from \"../Providers/LevelProvider\"\nimport createScene from \"../Scenes//LevelCreator\"\n\nexport default {\n    setup() {\n        const canvas = ref(null);\n        let isMounted = ref(false);\n        const context = useLevelContext();\n\n        onMounted(() => {\n            isMounted.value = true;\n            createScene(canvas.value, context); // this is your $el\n        });\n\n        const newWave = () => {\n            context.addNewWave();\n        } \n\n        const levelJson = context[\"levelJson\"];\n        watch(levelJson, () => {\n            if(isMounted.value) {\n                console.log(\"re rendering\");\n                createScene(canvas.value, context);\n            }\n        })\n\n        return {\n            canvas,\n            newWave,\n            ...context\n        }\n    }\n}\n</script>\n\n<style>\n    canvas {\n        width: 100%;\n        height: 100%;\n    }\n\n    .level-creator {\n        width: 100%;\n        height: 100%;\n    }\n    \n    .level-creator-header {\n        position: absolute;\n        display: flex;\n        width: 50%;\n        padding: 5px 15px;\n    }\n\n    .level-creator-footer {\n        position: absolute;\n        display: flex;\n        justify-content: center;\n        bottom: 0px;\n        width: 50%;\n        padding: 5px 15px;\n    }\n\n    label {\n        color: white;\n    }\n</style>","// src/composables/counter.js\nimport { provide, inject, ref, reactive, computed } from 'vue';\n\nconst COUNTER_CONTEXT = Symbol();\n\nexport function useLevelProvider(initialValue : Object ) {\n\n  let levelJson = reactive<any>(initialValue);\n  let blockType = ref<string>(\"unbreakable\");\n  \n  const setJSON = (obj : Object) => {\n      Object.entries(obj).forEach(([key, value]) => {\n          levelJson[key] = value;\n      })\n  };\n\n  function addNewWave (height: number | null) {\n      if(!height) {\n          height = 20;\n      }\n      levelJson[\"waves\"].push({\n        nextSpawnHeight: height, \n        obstacles: []\n      })\n  }\n\n  const remainingHeight = computed(() => {\n    const height = levelJson.waves.reduce((a,c) => {\n      a += c.nextSpawnHeight;\n      return a; \n    }, 0);\n    return `${height}/${levelJson.height}`\n  })\n\n  const setObstacles = (level: number, obstacles: any) => {\n      levelJson.waves[level].obstacles = obstacles;  \n  }\n\n  const deleteWave = (level: number) => {\n    levelJson.waves.splice(level, 1);\n  }\n\n  const changeBlockType = (newblockType: string) => {\n    blockType.value = newblockType;\n  }\n\n  provide(COUNTER_CONTEXT, {\n    blockType,\n    changeBlockType,\n    levelJson,\n    setJSON,\n    addNewWave,\n    setObstacles,\n    deleteWave,\n    remainingHeight\n  });\n}\n\nexport function useLevelContext() : any {\n  const context = inject<Object>(COUNTER_CONTEXT);\n  if (!context) {\n    throw new Error('Provider need context');\n  }\n  return context;\n}","import * as BABYLON from \"babylonjs\";\nimport * as GUI from \"babylonjs-gui\";\n\nconst gridSize = 5;\n\nexport default (canvas : any, context: any) => {\n    // Load the 3D engine\n    var engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true });\n    // CreateScene function that creates and return the scene\n    var createScene = function () {\n        var scene = new BABYLON.Scene(engine);\n        // Create a FreeCamera, and set its position to {x: 0, y: 5, z: -10}\n        var camera = new BABYLON.FreeCamera('camera1', new BABYLON.Vector3(0, 5, -10), scene);\n        // Target the camera to scene origin\n        camera.position = new BABYLON.Vector3(0.5, 9, -17.8);\n        camera.rotation = new BABYLON.Vector3(0.4653956558758062, -0.07168276100777128, 0);\n\n        // Attach the camera to the canvas\n        camera.attachControl(canvas, false);\n        // Create a basic light, aiming 0, 1, 0 - meaning, to the sky\n        var light = new BABYLON.HemisphericLight('light1', new BABYLON.Vector3(0, 1, 0), scene);\n        \n        var mat = new BABYLON.StandardMaterial(\"no-selected\", scene);\n        mat.diffuseColor = new BABYLON.Color3(255, 255, 255);\n        mat.alpha = 0.5;\n\n        var mat2 = new BABYLON.StandardMaterial(\"breakable\", scene);\n        mat2.diffuseColor = new BABYLON.Color3(255, 1, 1);\n\n        const { setObstacles, levelJson} = context;\n        let height = 0;\n        let heightList = [];\n        let currentHeight = 0;\n\n        const localLevel = [];\n        levelJson.waves.forEach((wave: any, i: number) => {\n            console.log(\"i was called\");\n            heightList.push(height);\n            const defintion = Object.entries(wave.obstacles).reduce((a, [type, obstacle]) => {\n                const positionsDef = (<any[]> obstacle).reduce((acc, cur) => {\n                    const { x, y } = cur;\n                    const key = createKey(x, y);\n                    acc[key] = type;\n                    return acc;\n                }, {});\n                return { ...a, ...positionsDef };\n            }, {})\n            console.log(defintion);\n            createGrid(scene, height, defintion, i, localLevel, context);\n            height += wave.nextSpawnHeight;\n        });\n\n        //Setup camera control GUI\n        const guiMenu = GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\n        const upButton = createUpOrDownButton(true);\n        const downButton = createUpOrDownButton(false);\n        \n        upButton.onPointerClickObservable.add(() => {\n            const next = heightList[currentHeight - 1];\n            if(next === undefined || next < 0) {\n                return;\n            }\n            currentHeight -= 1;\n            setCameraPosition(camera, next);\n        })\n\n        downButton.onPointerClickObservable.add(() => {\n            const next = heightList[currentHeight + 1];\n            if(next === undefined || next < 0) {\n                console.warn(\"ops...\", next)\n                return;\n            }\n            currentHeight += 1;\n            setCameraPosition(camera, next);\n        })\n\n        guiMenu.addControl(upButton);\n        guiMenu.addControl(downButton);\n\n        //Setup Save button\n        const saveButton = GUI.Button.CreateSimpleButton(\"Save\", \"Save\");\n        saveButton.width = 0.2\n        saveButton.height = \"40px\";\n        saveButton.color = \"white\";\n        saveButton.background = \"green\";\n        saveButton.thickness = 0;\n        saveButton.top = -50;\n        saveButton.horizontalAlignment = GUI.Container.HORIZONTAL_ALIGNMENT_CENTER;\n        saveButton.verticalAlignment = GUI.Container.VERTICAL_ALIGNMENT_BOTTOM; \n\n        saveButton.onPointerClickObservable.add(() => {\n            localLevel.forEach((wave, i) => {\n                const result = Object.entries(wave).reduce((a, c) => {\n                    const [pos, type] = <[string, any]> c; \n                    const [x, y] = pos.split(\",\");\n                    if(a[type] === undefined) {\n                        a[type] = [];\n                    }\n                    a[type].push({ x, y});\n                    return a;\n                }, {})\n                context.setObstacles(i, result);\n            });\n        })\n\n        guiMenu.addControl(saveButton);\n\n        // scene.debugLayer.show()\n\n        // Return the created scene\n        return scene;\n    }\n    // call the createScene function\n    var scene = createScene();\n    // run the render loop\n    engine.runRenderLoop(() => {\n        scene.render();\n    });\n    // the canvas/window resize event handler\n    window.addEventListener('resize', function () {\n        engine.resize();\n    });\n}\n\nfunction createUpOrDownButton(isUp : Boolean) {\n    var name = isUp ? \"Up\" : \"Down\";\n    const button = GUI.Button.CreateSimpleButton(name, name);\n    button.width = 0.2\n    button.height = \"40px\";\n    button.color = \"white\";\n    button.background = \"black\";\n    button.thickness = 0;\n    button.horizontalAlignment = isUp ? GUI.Container.HORIZONTAL_ALIGNMENT_RIGHT : GUI.Container.HORIZONTAL_ALIGNMENT_LEFT;\n    return button;\n}\n\nfunction createGrid(scene : BABYLON.Scene, height : number, definition: Object, index: number, localLevel, context) {\n    let grid :any[] = [];\n    localLevel[index] = definition;\n    for (let x = 0; x < gridSize; ++x) {\n\t\tgrid[x] = grid[x] || [];\n        for (let z = 0; z < gridSize; ++z) {\n            let box = BABYLON.Mesh.CreateBox(\"box\", 0.5 , scene);\n            box.position.copyFromFloats(x - gridSize / 2, -height, z - gridSize / 2);\n\n            //Set Material\n            const key = createKey(x, z);\n            const def = definition[key]\n            if(def) {\n                box.material = scene.getMaterialByName(\"breakable\");\n            } else {\n                box.material = scene.getMaterialByName(\"no-selected\");\n            }\n\n            //Action\n            box.actionManager = new BABYLON.ActionManager(scene);\n            box.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger, () => {\n                const isSelected = box.material?.name === \"no-selected\";\n                if(isSelected) {\n                    const blockType = context.blockType.value;\n                    box.material = scene.getMaterialByName(\"breakable\");\n                    localLevel[index][key] = blockType;\n                } else {\n                    box.material = scene.getMaterialByName(\"no-selected\");\n                    delete localLevel[index][key];\n                }\n            }));\n            grid[x][z] = box;\n        }\n\t}\n}\n\nfunction setCameraPosition(camera, height : number) {\n    camera.position = new BABYLON.Vector3(0.5, 9 + -height, -17.8);\n    camera.rotation = new BABYLON.Vector3(0.4653956558758062, -0.07168276100777128, 0);\n}\n\nfunction createKey(x,y) {\n    const key = `${x},${y}`;\n    return key;\n}","\nimport { ref, computed, onMounted, watch } from \"vue\";\nimport { useLevelContext } from \"../Providers/LevelProvider\"\nimport createScene from \"../Scenes//LevelCreator\"\n\nexport default {\n    setup() {\n        const canvas = ref(null);\n        let isMounted = ref(false);\n        const context = useLevelContext();\n\n        onMounted(() => {\n            isMounted.value = true;\n            createScene(canvas.value, context); // this is your $el\n        });\n\n        const newWave = () => {\n            context.addNewWave();\n        } \n\n        const levelJson = context[\"levelJson\"];\n        watch(levelJson, () => {\n            if(isMounted.value) {\n                console.log(\"re rendering\");\n                createScene(canvas.value, context);\n            }\n        })\n\n        return {\n            canvas,\n            newWave,\n            ...context\n        }\n    }\n}\n","import { render } from \"./LevelCreator.vue?vue&type=template&id=43d0ca66&bindings={\\\"canvas\\\":\\\"setup\\\",\\\"newWave\\\":\\\"setup\\\"}\"\nimport script from \"./LevelCreator.vue?vue&type=script&lang=ts\"\nexport * from \"./LevelCreator.vue?vue&type=script&lang=ts\"\n\nimport \"./LevelCreator.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","\n<template>\n  <!-- need to find a better text editor -->\n  <div class=\"editor\">\n    <div class=\"actions\">\n      <div>\n        {{ remainingHeight }}\n      </div>  \n      <div>\n        <button @click=\"save\">Update</button>\n        <button @click=\"exportFile\">Export</button>\n      </div>\n    </div>\n    <textarea\n      class=\"editor-area\"\n      :value=\"jsonString\"\n      @input=\"change\"\n    ></textarea>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref, watch } from \"vue\";\nimport { debounce } from \"lodash\";\n\nimport { useLevelContext } from \"../Providers/LevelProvider\";\n\nexport default defineComponent({\n  setup() {\n    const context: any = useLevelContext();\n    let jsonString = ref<string>(JSON.stringify(context[\"levelJson\"], null, 4));\n    watch(context[\"levelJson\"], () => {\n      jsonString.value = JSON.stringify(context[\"levelJson\"], null, 4);\n    });\n\n    const change = (event: any) => {\n      jsonString.value = event.target.value;\n    };\n\n    const save = () => {\n      try {\n        const json = JSON.parse(jsonString.value);\n        context.setJSON(json);\n      } catch (error) {\n        window.alert(\"invalid json\");\n        console.error(error);\n      }\n    };\n\n    const exportFile = () => {\n      const data = jsonString.value;\n      const blob = new Blob([data], { type: \"text/plain\" });\n      const e = document.createEvent(\"MouseEvents\");\n      const a = document.createElement(\"a\");\n      a.download = \"test.json\";\n      a.href = window.URL.createObjectURL(blob);\n      a.dataset.downloadurl = [\"text/json\", a.download, a.href].join(\":\");\n      e.initEvent(\"click\", true, false);\n      a.dispatchEvent(e);\n    };\n\n    return { ...context, jsonString, change, save, exportFile };\n  },\n});\n</script>\n\n<style>\n.editor {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.editor-area {\n  flex: 1 1 100%;\n}\n\n.actions {\n  display: flex;\n  justify-content: space-between;\n}\n</style>","\nimport { defineComponent, computed, ref, watch } from \"vue\";\nimport { debounce } from \"lodash\";\n\nimport { useLevelContext } from \"../Providers/LevelProvider\";\n\nexport default defineComponent({\n  setup() {\n    const context: any = useLevelContext();\n    let jsonString = ref<string>(JSON.stringify(context[\"levelJson\"], null, 4));\n    watch(context[\"levelJson\"], () => {\n      jsonString.value = JSON.stringify(context[\"levelJson\"], null, 4);\n    });\n\n    const change = (event: any) => {\n      jsonString.value = event.target.value;\n    };\n\n    const save = () => {\n      try {\n        const json = JSON.parse(jsonString.value);\n        context.setJSON(json);\n      } catch (error) {\n        window.alert(\"invalid json\");\n        console.error(error);\n      }\n    };\n\n    const exportFile = () => {\n      const data = jsonString.value;\n      const blob = new Blob([data], { type: \"text/plain\" });\n      const e = document.createEvent(\"MouseEvents\");\n      const a = document.createElement(\"a\");\n      a.download = \"test.json\";\n      a.href = window.URL.createObjectURL(blob);\n      a.dataset.downloadurl = [\"text/json\", a.download, a.href].join(\":\");\n      e.initEvent(\"click\", true, false);\n      a.dispatchEvent(e);\n    };\n\n    return { ...context, jsonString, change, save, exportFile };\n  },\n});\n","import { render } from \"./JsonEditor.vue?vue&type=template&id=40fb78f8&bindings={}\"\nimport script from \"./JsonEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./JsonEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./JsonEditor.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","var level = {\n    \"env\": \"Wall\",\n    \"height\": 250,\n    \"offsetTop\": 50,\n    \"offsetBottom\": 50,\n    \"waves\": [\n        {\n            \"nextSpawnHeight\": 20,\n            \"obstacles\": {\n                \"unbreakable\": [\n                    {\n                        \"x\": 0,\n                        \"y\": 0\n                    }\n                ]\n            }\n        }\n    ]\n}\n\nexport default level;","\nimport { defineComponent } from \"vue\";\nimport LevelCreator from \"./components/LevelCreator.vue\";\nimport JsonEditor from \"./components/JsonEditor.vue\";\nimport { useLevelProvider } from \"./Providers/LevelProvider\"\nimport level from \"./assets/sampleLevel\";\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    LevelCreator,\n    JsonEditor\n  },\n  setup() {\n    useLevelProvider(level);\n  }\n});\n","import { render } from \"./App.vue?vue&type=template&id=b145f9f2&bindings={}\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './assets/style.css';\n\ncreateApp(App).mount('#app')\n"],"sourceRoot":""}